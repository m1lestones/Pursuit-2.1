<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pursuit Dashboard â€¢ AI Chat</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="loader.js" defer></script>
</head>

<body class="simple-view chat-view">
    <nav class="sidebar" aria-label="Primary">
        <div class="sidebar-top">
            <a class="sidebar-brand" href="index.html" aria-label="Dashboard">
                <div class="logo" aria-label="Pursuit">
                    <svg class="pursuit-mark" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
                        <path d="M26 54V16" stroke="currentColor" stroke-width="6" stroke-linecap="round" />
                        <path d="M26 30C26 23 31 18 38 18C45 18 50 23 50 30C50 37 45 42 38 42C31 42 26 37 26 30" stroke="currentColor" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M22 18C24 10 32 7 39 9C44 10 47 13 50 16" stroke="currentColor" stroke-width="6" stroke-linecap="round" />
                        <path d="M50 16L56 8" stroke="currentColor" stroke-width="6" stroke-linecap="round" />
                        <path d="M56 8V20" stroke="currentColor" stroke-width="6" stroke-linecap="round" />
                        <path d="M56 8H44" stroke="currentColor" stroke-width="6" stroke-linecap="round" />
                    </svg>
                </div>
            </a>
        </div>

        <div class="nav-icons" aria-label="Navigation">
            <a class="icon-btn" href="index.html" aria-label="Dashboard">
                <span class="nav-item-icon" aria-hidden="true">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                        <path d="M4 10.5L12 4l8 6.5V20a1.5 1.5 0 0 1-1.5 1.5H5.5A1.5 1.5 0 0 1 4 20v-9.5Z" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linejoin="round" />
                        <path d="M9.5 21.5v-7h5v7" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </span>
                <span class="nav-label" aria-hidden="true">Dashboard</span>
            </a>

            <a class="icon-btn" href="day.html" aria-label="Learning">
                <span class="nav-item-icon" aria-hidden="true">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                        <path d="M4 6.5c0-1.4 1.1-2.5 2.5-2.5H20v16H6.5C5.1 20 4 18.9 4 17.5V6.5Z" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linejoin="round" />
                        <path d="M8 7.5h8M8 11h8M8 14.5h6" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" />
                        <path d="M6.5 4C5.1 4 4 5.1 4 6.5S5.1 9 6.5 9H20" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linejoin="round" />
                    </svg>
                </span>
                <span class="nav-label" aria-hidden="true">Learning</span>
            </a>

            <a class="icon-btn" href="aichat.html" aria-label="AI Chat" aria-current="page">
                <span class="nav-item-icon" aria-hidden="true">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                        <path d="M5 6.8C5 5.25 6.25 4 7.8 4h8.4C17.75 4 19 5.25 19 6.8v6.4c0 1.55-1.25 2.8-2.8 2.8H10l-4.1 3.1c-.5.38-1.2.02-1.2-.6V16c-.46-.5-.7-1.13-.7-1.8V6.8Z" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linejoin="round" />
                        <path d="M8 8.5h8M8 11.5h6" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" />
                    </svg>
                </span>
                <span class="nav-label" aria-hidden="true">AI Chat</span>
            </a>

            <a class="icon-btn" href="calendar.html" aria-label="Calendar">
                <span class="nav-item-icon" aria-hidden="true">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                        <path d="M7 4v3M17 4v3" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" />
                        <path d="M5.5 7.5h13" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" />
                        <path d="M6.5 5.5h11c1.1 0 2 .9 2 2v11c0 1.1-.9 2-2 2h-11c-1.1 0-2-.9-2-2v-11c0-1.1.9-2 2-2Z" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linejoin="round" />
                        <path d="M8 11h3M8 14h3M13 11h3M13 14h3" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" />
                    </svg>
                </span>
                <span class="nav-label" aria-hidden="true">Calendar</span>
            </a>

            <a class="icon-btn" href="pathfinder.html" aria-label="Pathfinder">
                <span class="nav-item-icon" aria-hidden="true">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                        <path d="M8 12h8" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" />
                        <path d="M13 7l5 5-5 5" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </span>
                <span class="nav-label" aria-hidden="true">Pathfinder</span>
            </a>

            <a class="icon-btn" href="performance.html" aria-label="Performance">
                <span class="nav-item-icon" aria-hidden="true">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                        <path d="M4 12h4l2.1-5.5L13 17l2-5h5" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </span>
                <span class="nav-label" aria-hidden="true">Performance</span>
            </a>

            <button class="icon-btn" type="button" aria-label="Back" data-back>
                <span class="nav-item-icon" aria-hidden="true">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                        <path d="M16 12H8" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" />
                        <path d="M11 7l-5 5 5 5" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </span>
                <span class="nav-label" aria-hidden="true">Back</span>
            </button>
        </div>

        <div class="sidebar-bottom">
            <div class="icon-divider" aria-hidden="true"></div>
            <button class="icon-btn ghost" type="button" aria-label="Logout" disabled>
                <span class="nav-item-icon" aria-hidden="true">â†©ï¸Ž</span>
                <span class="nav-label" aria-hidden="true">Logout</span>
            </button>
        </div>
    </nav>

    <main class="content">
        <div class="chat-shell" aria-label="AI Chat">
            <header class="chat-topbar" aria-label="Chat search">
                <div class="chat-topbar-inner">
                    <input class="chat-search" type="search" autocomplete="off" spellcheck="false"
                        placeholder="Browse chat history or search by keyword" aria-label="Search chat" />
                    <button class="chat-plus" type="button" aria-label="New chat">+</button>
                </div>
            </header>

            <section class="chat-main" aria-label="Chat content">
                <div class="chat-empty">
                    <div class="chat-empty-title">What can we build together?</div>
                    <div class="chat-empty-mark" aria-hidden="true">
                        <svg class="chat-doodle" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16 36c8-18 16 18 24 0 6-14 10 10 2 14" stroke="currentColor" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M44 34c4-7 10-10 14-6" stroke="currentColor" stroke-width="5" stroke-linecap="round" />
                            <path d="M56 28l-1 10" stroke="currentColor" stroke-width="5" stroke-linecap="round" />
                            <path d="M56 28l-8 5" stroke="currentColor" stroke-width="5" stroke-linecap="round" />
                        </svg>
                    </div>
                </div>
            </section>

            <footer class="chat-composer" aria-label="Message composer">
                <div class="chat-composer-inner">
                    <textarea class="chat-input" rows="1" placeholder="Ask me anything..." aria-label="Message"></textarea>
                    <div class="chat-actions" aria-label="Composer actions">
                        <select class="chat-model" aria-label="Model">
                            <option selected>GPT 5.2</option>
                        </select>
                        <button class="chat-attach" type="button" aria-label="Attach" disabled>
                            <span aria-hidden="true">ðŸ“Ž</span>
                        </button>
                        <button class="chat-send" type="button" aria-label="Send" disabled>
                            <span aria-hidden="true">â†‘</span>
                        </button>
                    </div>
                </div>
            </footer>
        </div>
    </main>

    <div class="page-loader" data-page-loader aria-hidden="false">
        <div class="page-loader-inner">
            <div class="page-loader-logo" aria-hidden="true">
                <svg class="pursuit-mark" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M26 54V16" stroke="currentColor" stroke-width="6" stroke-linecap="round" />
                    <path d="M26 30C26 23 31 18 38 18C45 18 50 23 50 30C50 37 45 42 38 42C31 42 26 37 26 30" stroke="currentColor" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M22 18C24 10 32 7 39 9C44 10 47 13 50 16" stroke="currentColor" stroke-width="6" stroke-linecap="round" />
                    <path d="M50 16L56 8" stroke="currentColor" stroke-width="6" stroke-linecap="round" />
                    <path d="M56 8V20" stroke="currentColor" stroke-width="6" stroke-linecap="round" />
                    <path d="M56 8H44" stroke="currentColor" stroke-width="6" stroke-linecap="round" />
                </svg>
            </div>
            <div class="page-loader-title">LOADING</div>
            <div class="page-loader-progress"><span data-loader-percent>1</span>%</div>
        </div>
    </div>

    <script>
        const THEME_STORAGE_KEY = `pursuit:theme:v1`;

        function systemPrefersDark() {
            return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        }

        function getStoredTheme() {
            try {
                const t = localStorage.getItem(THEME_STORAGE_KEY);
                return t === 'dark' || t === 'light' ? t : null;
            } catch {
                return null;
            }
        }

        function setStoredTheme(theme) {
            try {
                localStorage.setItem(THEME_STORAGE_KEY, theme);
            } catch {
                // ignore
            }
        }

        function applyTheme(theme) {
            const root = document.documentElement;
            root.dataset.theme = theme;
            const btn = document.querySelector('[data-theme-toggle]');
            if (!btn) return;
            const isDark = theme === 'dark';
            btn.setAttribute('aria-pressed', String(isDark));
            const icon = btn.querySelector('[data-theme-icon]');
            const text = btn.querySelector('[data-theme-text]');
            if (icon) icon.textContent = isDark ? 'â˜€ï¸' : 'ðŸŒ™';
            if (text) text.textContent = isDark ? 'Day' : 'Night';
        }

        function initThemeToggle() {
            const stored = getStoredTheme();
            applyTheme(stored ?? (systemPrefersDark() ? 'dark' : 'light'));
            const btn = document.querySelector('[data-theme-toggle]');
            if (!btn) return;
            btn.addEventListener('click', () => {
                const isDark = document.documentElement.dataset.theme === 'dark';
                const next = isDark ? 'light' : 'dark';
                setStoredTheme(next);
                applyTheme(next);
            });
        }

        function initSidebarExpandOnHighlight() {
            const sidebar = document.querySelector('.sidebar');
            if (!sidebar) return;

            let hoverCount = 0;
            sidebar.addEventListener('mouseenter', () => {
                hoverCount++;
                document.body.classList.add('sidebar-expanded');
            });
            sidebar.addEventListener('mouseleave', () => {
                hoverCount = Math.max(0, hoverCount - 1);
                if (hoverCount === 0) document.body.classList.remove('sidebar-expanded');
            });

            sidebar.addEventListener('focusin', () => {
                document.body.classList.add('sidebar-expanded');
            });
            sidebar.addEventListener('focusout', (e) => {
                const next = e.relatedTarget;
                if (!next || !sidebar.contains(next)) {
                    if (hoverCount === 0) document.body.classList.remove('sidebar-expanded');
                }
            });
        }

        initThemeToggle();
        initSidebarExpandOnHighlight();
    </script>
</body>

</html>
